(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[1],{102:function(e,n,t){e.exports=t(125)},125:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t.n(r),o=t(66),c=t.n(o),i=t(68),l=t(137),s=t(58),u=t(10),d=(t(107),t(33)),f=t(54),h=t(21);function p(e,n){var t=n.type,r=n.payload;switch(t){case"LOGIN_USER":return Object(h.a)({},e,{currentUser:r});case"IS_LOGGED_IN":return Object(h.a)({},e,{isAuth:r});case"SIGNOUT_USER":return Object(h.a)({},e,{currentUser:null,isAuth:!1});case"CREATE_DRAFT":return Object(h.a)({},e,{currentPin:null,draft:{latitude:0,longitude:0}});case"UPDATE_DRAFT_LOCATION":return Object(h.a)({},e,{draft:r});case"DELETE_DRAFT":return Object(h.a)({},e,{draft:null});case"GET_PINS":return Object(h.a)({},e,{pins:r});case"CREATE_PIN":var a=r,o=e.pins.filter((function(e){return e._id!==a._id}));return console.log(o,a),Object(h.a)({},e,{pins:[].concat(Object(f.a)(o),[a])});case"SET_PIN":return Object(h.a)({},e,{currentPin:r,draft:null});case"DELETE_PIN":var c=r,i=e.pins.filter((function(e){return e._id!==c._id}));if(e.currentPin)if(c._id===e.currentPin._id)return Object(h.a)({},e,{pins:Object(f.a)(i),currentPin:null});return Object(h.a)({},e,{pins:Object(f.a)(i)});case"CREATE_COMMENT":var l=r,s=e.pins.map((function(e){return e._id===l._id?l:e}));return console.log(l,s),Object(h.a)({},e,{pins:s,currentPin:l});default:return e}}var m=t(99),b=function(e){var n=e.component,t=Object(m.a)(e,["component"]),o=Object(r.useContext)(d.a).state;return a.a.createElement(u.b,Object.assign({},t,{render:function(e){return!1===o.isAuth?a.a.createElement(u.a,{to:"/login"}):a.a.createElement(n,e)}}))},E=t(43),g=t(90),v=t(94),w=t.n(v),O=Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(4),t.e(6)]).then(t.bind(null,275))})),j=Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(5)]).then(t.bind(null,272))})),_="localhost"===window.location.hostname?"ws://localhost:8000/graphql":"wss://".concat(window.location.hostname,"/graphql"),A=new g.a({uri:_,options:{reconnect:!0}}),P=new E.ApolloClient({link:A,cache:new E.InMemoryCache}),T=function(){return a.a.createElement("div",{className:"container-fluid",align:"center"},a.a.createElement("img",{loading:"lazy",style:{height:"80vh"},src:w.a,alt:"404"}),a.a.createElement("h5",null,"The page you are looking for does not exist, ",a.a.createElement("a",{href:"/"},"click here")," ","to go to the homepage."))},y=function(){var e=Object(r.useContext)(d.a),n=Object(r.useReducer)(p,e),t=Object(i.a)(n,2),o=t[0],c=t[1];return a.a.createElement(s.a,null,a.a.createElement(E.ApolloProvider,{client:P},a.a.createElement(d.a.Provider,{value:{state:o,dispatch:c}},a.a.createElement(u.d,null,a.a.createElement(r.Suspense,{fallback:a.a.createElement(l.a,{color:"primary"})},a.a.createElement(b,{exact:!0,path:"/",component:O}),a.a.createElement(u.b,{path:"/login",component:j}),a.a.createElement(u.b,{component:T}))))))},k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(y,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");k?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):C(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):C(n,e)}))}}()},33:function(e,n,t){"use strict";var r=t(2),a=Object(r.createContext)({currentUser:null,isAuth:!1,draft:null,pins:[],currentPin:null});n.a=a},94:function(e,n,t){e.exports=t.p+"static/media/404.3a0396ed.webp"}},[[102,2,3]]]);
//# sourceMappingURL=main.2910172d.chunk.js.map